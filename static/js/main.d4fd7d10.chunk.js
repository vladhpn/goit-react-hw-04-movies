(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{61:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(30),i=n.n(a),s=n(9),o=n(4),j=n(5),u=n(7),h=n(6),l=n(2),b=n(14),d=n.n(b),m="98e87da0e762537a8cb63c18dd13caee",v="https://image.tmdb.org/t/p/w300",O=function(e){return d.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(m,"&query=").concat(e)).then((function(e){return e.data.results}))},p=n.p+"static/media/no-image.ac1b94f6.jpeg",x=n(0),f=function(e){var t=e.movies;return Object(x.jsx)("div",{children:t.length>0&&Object(x.jsx)("ul",{children:t.map((function(e){var t=e.title,n=e.id,c=e.poster_path;return Object(x.jsx)("li",{children:Object(x.jsxs)(s.b,{to:"/movies/".concat(n),children:[Object(x.jsx)("h3",{children:t}),c?Object(x.jsx)("img",{src:v+c,className:"ImageGalleryItem-image",alt:t}):Object(x.jsx)("img",{src:p,alt:""})]})},n)}))})})},g=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;d.a.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(m)).then((function(e){return e.data.results})).then((function(t){return e.setState({movies:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.movies;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"Trending Today"}),Object(x.jsx)(f,{movies:e})]})}}]),n}(c.Component),y=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={query:""},e.handleChange=function(t){e.setState({query:t.currentTarget.value})},e.handleSubmit=function(t){t.preventDefault(),e.props.onSubmit(e.state.query),e.setState({query:""})},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state.query;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"Movies search"}),Object(x.jsx)("div",{children:Object(x.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(x.jsx)("button",{type:"submit",children:Object(x.jsx)("span",{children:"Search"})}),Object(x.jsx)("input",{value:e,onChange:this.handleChange,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})]})})]})}}]),n}(c.Component),w=function(e){var t=e.movies;return Object(x.jsx)("div",{children:Object(x.jsx)("ul",{children:t.map((function(e){var t=e.original_title,n=e.id,c=e.poster_path,r=e.title;return Object(x.jsx)("li",{children:Object(x.jsxs)(s.b,{to:"/movies/".concat(n),children:[Object(x.jsx)("h3",{children:t}),Object(x.jsx)("img",{src:v+c,className:"ImageGalleryItem-image",alt:r})]})},n)}))})})},k=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e.onChangeQuery=function(t){O(t).then((function(t){return e.setState({movies:t})})).catch((function(e){return console.log(e)}))},e}return Object(j.a)(n,[{key:"render",value:function(){var e=this.state.movies;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(y,{onSubmit:this.onChangeQuery}),Object(x.jsx)(w,{movies:e})]})}}]),n}(c.Component),I=n(16),S=function(e){var t=e.movies;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("img",{src:v+t.poster_path,className:"ImageGalleryItem-image",alt:t.title}),Object(x.jsxs)("h2",{children:[t.title," ",t.release_date]}),Object(x.jsxs)("p",{children:["Rating: ",t.vote_average]}),Object(x.jsx)("h3",{children:"Overview"}),Object(x.jsx)("p",{children:t.overview}),Object(x.jsx)("h3",{children:"Genres \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})},C=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={casts:[]},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(e){return d.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/credits?api_key=").concat(m)).then((function(e){return e.data.cast}))})(this.props.movieId).then((function(t){return e.setState({casts:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.casts;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h1",{children:"CAST"}),Object(x.jsx)("ul",{children:e.map((function(e){var t=e.name,n=e.id,c=e.profile_path;return Object(x.jsxs)("li",{children:[Object(x.jsx)("img",{src:"https://image.tmdb.org/t/p/w200"+c,className:"ImageGalleryItem-image",alt:t}),Object(x.jsx)("p",{children:t})]},n)}))})]})}}]),n}(c.Component),_=function(e){var t=e.author,n=e.content;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h4",{children:t}),Object(x.jsx)("span",{children:n})]})},F=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={reviews:[]},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(e){return d.a.get("https://api.themoviedb.org/3/movie/".concat(e,"/reviews?api_key=").concat(m)).then((function(e){return e.data.results}))})(this.props.movieId).then((function(t){return e.setState({reviews:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state.reviews;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("h2",{children:"Reviews"}),Object(x.jsx)("ul",{children:e.map((function(e){var t=e.author,n=e.id,c=e.content;return Object(x.jsx)("li",{children:Object(x.jsx)(_,{author:t,content:c})},n)}))})]})}}]),n}(c.Component),A=function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var c=arguments.length,r=new Array(c),a=0;a<c;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).state={movies:[]},e}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;(function(e){return d.a.get("https://api.themoviedb.org/3/movie/".concat(e,"?api_key=").concat(m)).then((function(e){return e.data}))})(this.props.match.params.moviesId).then((function(t){return e.setState({movies:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.props.match.params.moviesId,t=this.state.movies,n=this.props.match,c=this.props.match.path;return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(S,{movies:t}),Object(x.jsxs)("ul",{children:[Object(x.jsxs)("li",{children:[" ",Object(x.jsx)(s.b,{to:"".concat(n.url,"/cast"),children:" Cast "})]}),Object(x.jsxs)("li",{children:[" ",Object(x.jsx)(s.b,{to:"".concat(n.url,"/reviews"),children:" Rewiews "})]})]}),Object(x.jsx)(l.a,{path:"".concat(c,"/cast"),render:function(t){return Object(x.jsx)(C,Object(I.a)(Object(I.a)({},t),{},{movieId:e}))}}),Object(x.jsx)(l.a,{path:"".concat(c,"/reviews"),render:function(t){return Object(x.jsx)(F,Object(I.a)(Object(I.a)({},t),{},{movieId:e}))}})]})}}]),n}(c.Component),M=function(){return Object(x.jsx)("h1",{children:"Oops page not found"})},q="/",D="/movies",G="/movies/:moviesId",N=function(){return Object(x.jsxs)("nav",{children:[Object(x.jsx)(s.c,{exact:!0,to:q,children:"Home"}),Object(x.jsx)(s.c,{to:D,children:"Movies"})]})},T=function(){return Object(x.jsx)("header",{children:Object(x.jsx)(N,{})})},R=(n(60),function(e){Object(u.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(T,{}),Object(x.jsxs)(l.c,{children:[Object(x.jsx)(l.a,{exact:!0,path:q,component:g}),Object(x.jsx)(l.a,{exact:!0,path:D,component:k}),Object(x.jsx)(l.a,{path:G,component:A}),Object(x.jsx)(l.a,{component:M})]})]})}}]),n}(c.Component));i.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(s.a,{children:Object(x.jsx)(R,{})})}),document.getElementById("root"))}},[[61,1,2]]]);
//# sourceMappingURL=main.d4fd7d10.chunk.js.map